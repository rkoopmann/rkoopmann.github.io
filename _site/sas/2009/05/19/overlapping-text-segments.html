<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>reading overlapping text segments</title>
  <meta name="description" content="if you’re in the same boat as me, you’ve got sas 9.1.3 sp4 installed under windows. the thing about sas 9.1.3 sp4 running under windows is the lrecl is limit...">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  

  <link rel="stylesheet" type="text/css" href="/css/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/css/print.css" media="print"> -->

  <link rel="canonical" href="http://localhost:4000/sas/2009/05/19/overlapping-text-segments.html">

  <link rel="alternate" type="application/rss+xml" title="hi" href="http://localhost:4000/feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
	<a href="/"><img class="badge" src="/assets/img/badge_1.png" alt="CH"></a>
	
		
		    
		      <a href="/about/">About</a>
		    
	    
  	
		
		    
		      <a href="/sas/feed.json"></a>
		    
	    
  	
		
		    
		      <a href="/"></a>
		    
	    
  	
		
		    
		      <a href="/css/print.css"></a>
		    
	    
  	
		
  	
		
  	
		
		    
		      <a href="/assets/main.css"></a>
		    
	    
  	
		
		    
		      <a href="/feed.xml"></a>
		    
	    
  	
	</nav>
</header>

    <article class="group">
      <h1>reading overlapping text segments</h1>
<p class="subtitle">May 19, 2009</p>

<p>if you’re in the same boat as me, you’ve got sas 9.1.3 sp4 installed under windows. the thing about sas 9.1.3 sp4 running under windows is the lrecl is limited to 32,767 characters. (even though the <a href="http://support.sas.com/kb/19/345.html">sas kb says 1mb</a>, that doesn’t appear to be true. at least not for me.)</p>

<!--more-->

<p>if you’re trying to parse a long string of text (approaching 140,000 characters before a carriage return is encountered), things break.</p>

<p>here’s a nifty little trick for the input statement:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>data _null_;
  infile datalines;
  format seg $8.;
  input seg $8. @@ +(-2);
  put seg;
datalines;
abcdefghijklmnopqrstuvwxyz
run;
</code></pre>
</div>

<p>so i read in 8 characters, back up 2 characters, read in 8 characters, back up 2 characters, …. the result is nice overlapping character segments ripe for parsing.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>1093  data _null_;
1094    infile datalines;
1095    format seg $8.;
1096    input seg $8. @@ +(-2);
1097    put seg;
1098  datalines;

abcdefgh
ghijklmn
mnopqrst
stuvwxyz
yz
NOTE: SAS went to a new line when INPUT statement reached past the end of a line.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      Memory                            151k


1100  run;
</code></pre>
</div>

<p>the log shows something about sas reading over to the next line, but, whatever.</p>

<p>i may be missing something very obvious here. if you notice, would you please let me know in the comments.</p>

<p>this post is related to the <a href="http://support.sas.com/training/forms/newdesign.html">recent change</a> to the <a href="https://support.sas.com/edu/courses.html?ctry=us">sas training course list</a> which broke my <a href="http://quatch.koopmann.us/post/2918939826/scraping-the-sas-training-pages">training parser</a>.</p>



    </article>
    <span class="print-footer">reading overlapping text segments - May 19, 2009 - </span>


    <footer>
  <hr class="slender">
  <ul class="footer-links">
    <li><a href="mailto:hate@spam.net"><span class="icon-mail"></span></a></li>    
      
  </ul>
<div class="credits">
<span>&copy; 2017 &nbsp;&nbsp;</span></br> <br>
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme for  </a> in <a href="//jekyllrb.com">Jekyll</a>.</span> 
</div>  
</footer>

  </body>
</html>
