<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>%d: a handy little macro for dynamic dating</title>
  <meta name="description" content="for a little over a year now, i’ve been enjoying a little macro i wrote for writing date values in a variety of formats. the macro also integrates the intnx ...">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  

  <link rel="stylesheet" type="text/css" href="/css/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/css/print.css" media="print"> -->

  <link rel="canonical" href="http://localhost:4000/sas/2009/07/08/d.html">

  <link rel="alternate" type="application/rss+xml" title="hi" href="http://localhost:4000/feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
	<a href="/"><img class="badge" src="/assets/img/badge_1.png" alt="CH"></a>
	
		
		    
		      <a href="/about/">About</a>
		    
	    
  	
		
		    
		      <a href="/sas/feed.json"></a>
		    
	    
  	
		
		    
		      <a href="/"></a>
		    
	    
  	
		
		    
		      <a href="/css/print.css"></a>
		    
	    
  	
		
  	
		
  	
		
		    
		      <a href="/assets/main.css"></a>
		    
	    
  	
		
		    
		      <a href="/feed.xml"></a>
		    
	    
  	
	</nav>
</header>

    <article class="group">
      <h1>%d: a handy little macro for dynamic dating</h1>
<p class="subtitle">July 8, 2009</p>

<p>for a little over a year now, i’ve been enjoying a little macro i wrote for writing date values in a variety of formats. the macro also integrates the intnx function (hence the dynamic part). this allows me to easily use dynamic dates in both open and closed code (between and within data/proc steps).</p>

<!--more-->

<p>suppose i’ve got a report that needs to be updated monthly using 6 months of data lagged 3 months (i know, contrived example, but stick with me). supposing today is 10SEP2009, i’d need to report on data from FEB-JUN2009. i could do something like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>title "%d(yymon, interval=month, increment=-8) - %d(yymon, interval=month, increment=-3, alignment=e) Data";
where Month between "%d(interval=month, increment=-8)"d and "%d(interval=month, increment=-3, alignment=e)"d;
</code></pre>
</div>

<p>the following iterations, i can simply re-run the report to get the appropriate data. no more %let statements!</p>

<p>but what if you want to specify a date? no problem: use the d parameter (the d parameter expects values formatted in date9 style). you can either hard code the date (wha?) or use a macro variable. okay, i lied about the end of %let statement.</p>

<p>looking at the <a href="https://github.com/rkoopmann/sas-quatch/blob/master/google-code-files/d%20v1.0.sas">source code</a>, you’ll notice that one line (line 43) does all the heavy lifting. with the bulk of the macro for what i’ll call “self- documentation” (both for developers and end-users).</p>

<p>for example, if i submit <code class="highlighter-rouge">%d(HELP);</code> (lines 24-42), the macro writes some basic how-to info in the log. which translates into less time hand-holding assisting others.</p>

<p>additionally, if i submit <code class="highlighter-rouge">%d(EDIT);</code> (lines 42-47), the source code is opened in the editor for users to view and (eek) make edits. you’d obviously need to update line 45 with the location of the file on your setup.</p>

<p>there you have it. i’ll see you <code class="highlighter-rouge">"%d(interval=month, increment=1)"d</code>.</p>



    </article>
    <span class="print-footer">%d: a handy little macro for dynamic dating - July 8, 2009 - </span>


    <footer>
  <hr class="slender">
  <ul class="footer-links">
    <li><a href="mailto:hate@spam.net"><span class="icon-mail"></span></a></li>    
      
  </ul>
<div class="credits">
<span>&copy; 2017 &nbsp;&nbsp;</span></br> <br>
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme for  </a> in <a href="//jekyllrb.com">Jekyll</a>.</span> 
</div>  
</footer>

  </body>
</html>
