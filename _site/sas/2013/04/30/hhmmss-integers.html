<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>convert to a [hhmmss-type integer to a] sas time - (SO)</title>
  <meta name="description" content="A few years back, I posted a bit of sample code which converted YYYYMMDD-type integers into proper SAS date values; it’s been the most-viewed page since then...">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  

  <link rel="stylesheet" type="text/css" href="/css/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/css/print.css" media="print"> -->

  <link rel="canonical" href="http://localhost:4000/sas/2013/04/30/hhmmss-integers.html">

  <link rel="alternate" type="application/rss+xml" title="hi" href="http://localhost:4000/feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
	<a href="/"><img class="badge" src="/assets/img/badge_1.png" alt="CH"></a>
	
		
		    
		      <a href="/about/">About</a>
		    
	    
  	
		
		    
		      <a href="/sas/feed.json"></a>
		    
	    
  	
		
		    
		      <a href="/"></a>
		    
	    
  	
		
		    
		      <a href="/css/print.css"></a>
		    
	    
  	
		
  	
		
  	
		
		    
		      <a href="/assets/main.css"></a>
		    
	    
  	
		
		    
		      <a href="/feed.xml"></a>
		    
	    
  	
	</nav>
</header>

    <article class="group">
      <h1>convert to a [hhmmss-type integer to a] sas time - (SO)</h1>
<p class="subtitle">April 30, 2013</p>

<p>A few years back, I posted a bit of sample code which converted <a href="/sas/converting-yyyymmdd/">YYYYMMDD-type integers into proper SAS date values</a>; it’s been the most-viewed page since then. At the time, I thought about doing a HHMMSS-type-integer-to-proper-SAS-time-value as well, but I was in a hurry and, to be honest, never really dealt with time-sensitive data.</p>

<!--more-->

<p>Not much has changed, but <a href="http://stackoverflow.com/questions/16299643/convert-to-a-sas-time">a recent post on SO</a> pushed my button, so here goes.</p>

<p>I took a slightly different (better?) approach since there were no obvious <code class="highlighter-rouge">HHMMSS.SSS</code> informats available (as <a href="http://stackoverflow.com/a/16302507/142229">stevepastelan points out, <code class="highlighter-rouge">B8601TMw.d</code> would work</a>). Rather, I simply used the <code class="highlighter-rouge">PRXCHANGE</code> function to insert colons in the right spot (<code class="highlighter-rouge">161058.262 --&gt; 16:10:58.262</code>), then used the <code class="highlighter-rouge">TIMEw.d</code> informat to get a proper SAS time value (<code class="highlighter-rouge">16:10:58.262 --&gt; '4:10:58.2't</code>).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>data _null_;
    input int_val $10.;
    format time_val timeampm15.3;
    time_val = input(prxchange('s/(\d?\d)(\d\d)(\d\d\.\d\d\d)/$1:$2:$3/',-1, int_val), time10.3);
    put int_val
    @15 time_val timeampm15.3
    @30 time_val 10.3;
datalines;
000000.001
012345.678
12345.678
161058.262
235959.999
run;
</code></pre>
</div>

<p>from the log:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>000000.001    12:00:00.000 AM     0.000
012345.678     1:23:45.600 AM  5025.600
12345.678      1:23:45.670 AM  5025.670
161058.262     4:10:58.200 PM 58258.200
235959.999    11:59:59.900 PM 86399.900
</code></pre>
</div>

<p>Note the leading 0 is optional for the 0-9 hours. Also, I’m not really sure what’s going on with the dropped hundredths and thousandths of a second (possibly something with how SAS stores values?), but for my purposes, it works.</p>



    </article>
    <span class="print-footer">convert to a [hhmmss-type integer to a] sas time - (SO) - April 30, 2013 - </span>


    <footer>
  <hr class="slender">
  <ul class="footer-links">
    <li><a href="mailto:hate@spam.net"><span class="icon-mail"></span></a></li>    
      
  </ul>
<div class="credits">
<span>&copy; 2017 &nbsp;&nbsp;</span></br> <br>
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme for  </a> in <a href="//jekyllrb.com">Jekyll</a>.</span> 
</div>  
</footer>

  </body>
</html>
